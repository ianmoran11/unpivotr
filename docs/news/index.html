<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Changelog • unpivotr</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Changelog" />


<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-45097885-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-45097885-5');
</script>

  </head>

  <body>
    <div class="container template-news">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">unpivotr</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.5.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/compass-directions.html">Compass Directions</a>
    </li>
    <li>
      <a href="../articles/html.html">HTML Tables</a>
    </li>
    <li>
      <a href="../articles/small-multiples.html">Small Multiples</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/nacnudus/unpivotr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1>Changelog <small></small></h1>
      <small>Source: <a href='https://github.com/nacnudus/unpivotr/blob/master/NEWS.md'><code>NEWS.md</code></a></small>
    </div>

    <div id="unpivotr-051" class="section level1">
<h1 class="page-header">
<a href="#unpivotr-051" class="anchor"></a>unpivotr 0.5.1<small> Unreleased </small>
</h1>
<ul>
<li>Patch for tibble <code>.name_repair</code> compatibility (<a href='https://github.com/nacnudus/unpivotr/issues/2144'>#2144</a> <a href='http://github.com/krlmlr'>@krlmlr</a>)</li>
<li>Patch to switch to <code>tidyselect</code> from <code>dplyr</code> functions.</li>
</ul>
</div>
    <div id="unpivotr-050" class="section level1">
<h1 class="page-header">
<a href="#unpivotr-050" class="anchor"></a>unpivotr 0.5.0<small> 2019-01-02 </small>
</h1>
<div id="new-features" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features" class="anchor"></a>New features</h2>
<ul>
<li>
<code><a href="../reference/behead.html">behead_if()</a></code> is for tiered headers within the same row or column. It takes filter functions similarly to <code><a href="https://dplyr.tidyverse.org/reference/filter.html">dplyr::filter()</a></code> to decide which cells to treat as headers, and can be applied more than once to the same row or column of headers until every tier has been dealt with.</li>
<li>
<code><a href="../reference/merge_cells.html">merge_rows()</a></code> and <code><a href="../reference/merge_cells.html">merge_cols()</a></code> combines header text when it is split over multiple cells.</li>
</ul>
</div>
<div id="other-changes" class="section level2">
<h2 class="hasAnchor">
<a href="#other-changes" class="anchor"></a>Other changes</h2>
<ul>
<li>
<code><a href="../reference/behead.html">behead()</a></code>, <code><a href="../reference/enhead.html">enhead()</a></code>, <code><a href="../reference/partition.html">partition()</a></code> and <code><a href="../reference/rectify.html">rectify()</a></code> give a more informative error message for non-distinct cells, for example when trying to pass cells from more than one sheet to these functions (<a href='http://github.com/gregrs'>@gregrs</a>-uk, <a href='https://github.com/nacnudus/unpivotr/issues/15'>#15</a>).</li>
</ul>
</div>
</div>
    <div id="unpivotr-040" class="section level1">
<h1 class="page-header">
<a href="#unpivotr-040" class="anchor"></a>unpivotr 0.4.0<small> 2018-06-26 </small>
</h1>
<p>This version makes some big breaking changes for the sake of a more intuitive grammar. It comes with much more documentation in the online book <a href="https://nacnudus.github.io/spreadsheet-munging-strategies/">Spreadsheet Munging Strategies</a>.</p>
<p>The main new workhorses:</p>
<ul>
<li>
<code><a href="../reference/behead.html">behead()</a></code> takes one level of headers from a pivot table and make it part of the data. Chain this function to gradually strip every level of header away until you have tidy data.</li>
<li>
<code><a href="../reference/spatter.html">spatter()</a></code> is a data-type aware version of <code><a href="https://tidyr.tidyverse.org/reference/spread.html">tidyr::spread()</a></code> and is a common final step.</li>
<li>
<code><a href="../reference/partition.html">partition()</a></code> breaks up small-multiples on a single sheet, so you can handle them individually.</li>
<li>
<code><a href="../reference/rectify.html">rectify()</a></code> visualises the cells in the console as they would look in a spreadsheet.</li>
</ul>
<div id="breaking-changes" class="section level2">
<h2 class="hasAnchor">
<a href="#breaking-changes" class="anchor"></a>Breaking changes</h2>
<p>The previous version can be installed as follows.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1">devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/reexports">install_version</a></span>(<span class="st">"unpivotr"</span>, <span class="dt">version =</span> <span class="st">"0.3.1"</span>, <span class="dt">repos =</span> <span class="st">"http://cran.us.r-project.org"</span>)</a></code></pre></div>
<ul>
<li>The family of functions <code>NNW()</code> etc. has been removed in favour of the verbose <code>join_header()</code>, which has itself been renamed to <code><a href="../reference/enhead.html">enhead()</a></code> to suggest its similarity to <code><a href="../reference/behead.html">behead()</a></code> (though they are <em>not</em> complements).</li>
<li>
<code><a href="../reference/enhead.html">enhead()</a></code> (formerly <code>join_header()</code> now follows the tidyverse convention of <code>fct</code> for ‘factor’ and <code>ord</code> for ‘ordered factor’.</li>
<li>
<code><a href="../reference/enhead.html">enhead()</a></code> (formerly <code>join_header()</code>) now uses <code>col_names</code> and <code>row_names</code> as arguments instead of <code>colnames</code> and <code>rownames</code>, for consistency with tidyr.</li>
</ul>
</div>
<div id="new-features-1" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-1" class="anchor"></a>New features</h2>
<ul>
<li>
<code><a href="../reference/behead.html">behead()</a></code> is takes one level of headers from a pivot table and make it part of the data. Think of it like <code><a href="https://tidyr.tidyverse.org/reference/gather.html">tidyr::gather()</a></code>, except that it works when there is more than one row of headers (or more than one column of row-headers), and it only works on tables that have first come through <code><a href="../reference/enhead.html">enhead()</a></code> (formerly <code>join_header()</code> or <code><a href="http://www.rdocumentation.org/packages/tidyxl/topics/xlsx_cells">tidyxl::xlsx_cells()</a></code>.</li>
<li>
<code><a href="../reference/rectify.html">rectify()</a></code> displays cells as though in a spreadsheet, rather than in the ‘melted’ form of <code><a href="../reference/enhead.html">enhead()</a></code> (formerly <code>join_header()</code>) and <code><a href="http://www.rdocumentation.org/packages/tidyxl/topics/xlsx_cells">tidyxl::xlsx_cells()</a></code>. This is useful for understanding the structure of a pivot table as a human, when planning how to unpivot it. A print method is available to render large datasets in the browser or the RStudio viewer pane.</li>
<li>
<code><a href="../reference/partition.html">partition()</a></code> divides a grid of cells into partitions containing individual tables. Give it the corner cells of each table on a spreadsheet.</li>
<li>
<code><a href="../reference/pack.html">pack()</a></code> packs cells values from separate columns per data type into one list-column. <code><a href="../reference/pack.html">unpack()</a></code> is the complement.</li>
<li>
<code><a href="../reference/isolate_sentinels.html">isolate_sentinels()</a></code> move sentinel values into a separate column, leaving <code>NA</code> behind (or <code>NULL</code> for list-columns).</li>
<li>
<code><a href="../reference/spatter.html">spatter()</a></code> is like <code><a href="https://tidyr.tidyverse.org/reference/spread.html">tidyr::spread()</a></code>, but preserves mixed data types.</li>
<li>
<code><a href="../reference/enhead.html">enhead()</a></code> (formerly <code>join_header()</code>) now returns a <code>data_type</code> column that names the column that contains the value of a cell, similar to <code><a href="http://www.rdocumentation.org/packages/tidyxl/topics/xlsx_cells">tidyxl::xlsx_cells()</a></code>.</li>
<li>
<code><a href="../reference/enhead.html">enhead()</a></code> (formerly <code>join_header()</code> now follows the tidyverse convention of <code>fct</code> for ‘factor’ and <code>ord</code> for ‘ordered factor’.</li>
<li>
<code><a href="../reference/enhead.html">enhead()</a></code> (formerly <code>join_header()</code>) gains a <code>drop = TRUE</code> argument to control whether to discard cells that don’t have a matching header (e.g. ones that are left of the leftmost header in <code><a href="../reference/enhead.html">enhead(x, y, "NNW")</a></code>).</li>
<li>
<code><a href="../reference/justify.html">justify()</a></code> moves one set of cells to the same positions as another set. This is useful when header cells aren’t at the corner of the cells they describle. Put the header cells into <code><a href="../reference/justify.html">justify()</a></code>, along with cells that <em>are</em> at the corner.</li>
<li>New vignette ‘worked-examples’ of common tasks when munging spreadsheets.</li>
<li>The ‘small-multiples’ vignette has been refactored to use the new features.</li>
<li>
<code>purpose</code> (built-in dataset) gains a new list-member <code>small-multiples</code>.</li>
</ul>
</div>
<div id="under-the-hood" class="section level2">
<h2 class="hasAnchor">
<a href="#under-the-hood" class="anchor"></a>Under the hood</h2>
<ul>
<li>No longer depends on the data.table package.</li>
</ul>
</div>
<div id="many-other-tweaks-especially-to-documentation" class="section level2">
<h2 class="hasAnchor">
<a href="#many-other-tweaks-especially-to-documentation" class="anchor"></a>Many other tweaks especially to documentation</h2>
</div>
</div>
    <div id="unpivotr-031" class="section level1">
<h1 class="page-header">
<a href="#unpivotr-031" class="anchor"></a>unpivotr 0.3.1<small> 2018-01-20 </small>
</h1>
<ul>
<li>Performance improvements to <code><a href="../reference/tidy_table.html">tidy_table()</a></code>.</li>
<li>Fixed a CRAN test on some platforms.</li>
</ul>
</div>
    <div id="unpivotr-030" class="section level1">
<h1 class="page-header">
<a href="#unpivotr-030" class="anchor"></a>unpivotr 0.3.0<small> 2017-12-03 </small>
</h1>
<ul>
<li>Made compatible with tidyxl version 1.0.0 (avoids <code><a href="https://dplyr.tidyverse.org/reference/distinct.html">dplyr::distinct()</a></code>, which doesn’t handle list columns).</li>
<li>Updated to use the new <code>dplyr</code>/<code>rlang</code> combination instead of the old <code>dplyr</code>/<code>lazyeval</code> one.</li>
</ul>
</div>
    <div id="unpivotr-021" class="section level1">
<h1 class="page-header">
<a href="#unpivotr-021" class="anchor"></a>unpivotr 0.2.1<small> 2017-07-02 </small>
</h1>
<p>This release overhauls the <code><a href="../reference/tidy_table.html">tidy_table()</a></code> function of unpivotr to preserve the original data types of table cells and to support HTML tables.</p>
<ul>
<li>
<code>tidytable()</code> has been renamed <code><a href="../reference/tidy_table.html">tidy_table()</a></code>. <code>tidytable()</code> is an error, rather than a deprecation warning, because <code><a href="../reference/tidy_table.html">tidy_table()</a></code> is so different from before.</li>
<li>There is a new <code><a href="../reference/tidy_table.html">tidy_table()</a></code> method and vignette for HTML.</li>
<li>There is no <code><a href="../reference/tidy_table.html">tidy_table()</a></code> method for matrices. Convert matrices to data.frames first, choosing what to do with row and column names.</li>
<li>
<code><a href="../reference/tidy_table.html">tidy_table()</a></code> returns only relevant columns, according to the data types of the columns in the given data frame. It uses <code><a href="https://tibble.tidyverse.org/reference/reexports.html">tibble::type_sum()</a></code> to determine the column type and to name the columns, so whereas characters used to be returned in a column called <code>character</code>, they are now returned in a column called <code>chr</code>. The full list of column names is in <code><a href="../reference/tidy_table.html">?tidy_table</a></code> and is <code>chr</code>, <code>cplx</code>, <code>cplx</code>, <code>dbl</code>, <code>fctr</code>, <code>int</code>, <code>lgl</code>, <code>list</code>. The columns <code>fctr</code> and <code>list</code> are list-columns, where each element is itself a list. This means that factors with different levels are kept separate. For HTML tables, an <code>html</code> column is returned containing the standalone HTML of each cell.</li>
<li>Both <code>rowname</code> and <code>colname</code> arguments to <code><a href="../reference/tidy_table.html">tidy_table()</a></code> now default to <code>FALSE</code>.</li>
<li>All functions consistently return a <code>tibble</code>.</li>
<li>Some error messages are more helpful.</li>
</ul>
</div>
    <div id="unpivotr-011" class="section level1">
<h1 class="page-header">
<a href="#unpivotr-011" class="anchor"></a>unpivotr 0.1.1<small> 2017-04-23 </small>
</h1>
<ul>
<li>Fixed breakages introduced by dplyr 0.6.</li>
</ul>
</div>
    <div id="unpivotr-010" class="section level1">
<h1 class="page-header">
<a href="#unpivotr-010" class="anchor"></a>unpivotr 0.1.0<small> 2017-01-31 </small>
</h1>
<ul>
<li>Moved images from <code>inst/extdata</code> to <code>vignettes</code>.</li>
</ul>
</div>
    <div id="unpivotr-010-1" class="section level1">
<h1 class="page-header">
<a href="#unpivotr-010-1" class="anchor"></a>unpivotr 0.1.0<small> 2017-01-31 </small>
</h1>
<ul>
<li>Bumped version to match tidyxl, which is now more mature.</li>
<li>Updated README and vignettes to use the new tidyxl api.</li>
</ul>
</div>
    <div id="unpivotr-0009000" class="section level1">
<h1 class="page-header">
<a href="#unpivotr-0009000" class="anchor"></a>unpivotr 0.0.0.9000<small> Unreleased </small>
</h1>
<ul>
<li>Added a <code>NEWS.md</code> file to track changes to the package.</li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div id="tocnav">
      <h2>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
        <li><a href="#unpivotr-051">0.5.1</a></li>
        <li><a href="#unpivotr-050">0.5.0</a></li>
        <li><a href="#unpivotr-040">0.4.0</a></li>
        <li><a href="#unpivotr-031">0.3.1</a></li>
        <li><a href="#unpivotr-030">0.3.0</a></li>
        <li><a href="#unpivotr-021">0.2.1</a></li>
        <li><a href="#unpivotr-011">0.1.1</a></li>
        <li><a href="#unpivotr-010">0.1.0</a></li>
        <li><a href="#unpivotr-010-1">0.1.0</a></li>
        <li><a href="#unpivotr-0009000">0.0.0.9000</a></li>
      </ul>
    </div>
  </div>

</div>

      <footer>
      <div class="copyright">
  <p>Developed by Duncan Garmonsway.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

